############################################################################# ########## # Desarrollado Por: Juan Fernando Villada A                                           # # Objetivo: Validar archivos *.* no contengan palabras del lineamiento de seguridad   # ############################################################################# ########## 
 
RepoFileDB=/opt/ibm-ucd/agent/var/work WordFinDB="grant dba|create user|alter user|drop user|revoke|sp_addlogin|create login|alter login|drop login|sp_addsrvrolemember|dba|dbms_random|dbms_sql|dbms_sys_sql|dbms_job|dbms_b ackup_restore|dbms_obfuscation_toolkit|admin option|DBA|DBMS_RANDOM|DBMS_SQL|DBMS_SYS_SQL|DBMS_JOB|DBMS_BACKUP_REST ORE|DBMS_OBFUSCATION_TOOLKIT|create role|alter role|drop role|create profile|alter profile|drop profile|CREATE ROLE|ALTER ROLE|DROP ROLE|CREATE PROFILE|ALTER PROFILE|DROP PROFILE|ADMIN OPTION|shutdown|SHUTDOWN|GRANT DBA|CREATE USER|ALTER USER|DROP USER|REVOKE|SP_ADDLOGIN|CREATE LOGIN|ALTER LOGIN|DROP LOGIN|SP_ADDSRVROLEMEMBER|DBA|ADMIN OPTION|EXECUTE ANY INDEXTYPE|ANALYZE ANY|READ ANY TABLE|CREATE ANY TYPE|DEQUEUE ANY QUEUE|CREATE ANY EVALUATION CONTEXT|DROP ANY SYNONYM|DROP ANY RULE SET|ADMINISTER ANY SQL TUNING SET|GRANT ANY PRIVILEGE|CREATE ANY PROCEDURE|ALTER ANY TRIGGER|DEBUG ANY PROCEDURE|CREATE ANY EDITION|EXECUTE ANY ASSEMBLY|SELECT ANY TRANSACTION|UNDER ANY TYPE|ALTER ANY OUTLINE|EXECUTE ANY EVALUATION CONTEXT|CREATE ANY TRIGGER|ALTER ANY ROLE|UPDATE ANY TABLE|CREATE ANY MINING MODEL|DROP ANY OUTLINE|ALTER ANY INDEX|DROP ANY VIEW|USE ANY SQL TRANSLATION PROFILE|CREATE ANY SQL TRANSLATION PROFILE|CREATE ANY OUTLINE|CREATE ANY CUBE|DROP ANY MEASURE FOLDER|ALTER ANY INDEXTYPE|COMMENT ANY MINING MODEL|UNDER ANY VIEW|ALTER ANY RULE SET|CREATE ANY TABLE|DROP ANY PROCEDURE|ALTER ANY CUBE|ALTER ANY PROCEDURE|DROP ANY TRIGGER|SELECT ANY SEQUENCE|ALTER ANY MEASURE FOLDER|CREATE ANY CONTEXT|EXECUTE ANY RULE SET|UNDER ANY TABLE|CREATE ANY OPERATOR|DROP ANY MINING MODEL|MANAGE ANY FILE GROUP|CREATE ANY CLUSTER|SELECT ANY TABLE|CREATE ANY SQL PROFILE|CREATE ANY MEASURE FOLDER|CREATE ANY INDEX|ALTER ANY TYPE|ALTER ANY CUBE BUILD PROCESS|EXECUTE ANY PROCEDURE|ALTER ANY CLUSTER|CREATE ANY RULE|EXECUTE ANY PROGRAM|CREATE ANY ASSEMBLY|EXECUTE ANY TYPE|DROP ANY CUBE|REDEFINE ANY TABLE|SELECT ANY MEASURE FOLDER|CREATE ANY INDEXTYPE|SELECT ANY CUBE|CREATE ANY CUBE DIMENSION|ALTER ANY LIBRARY|GRANT ANY ROLE|CREATE ANY CREDENTIAL|GRANT ANY OBJECT PRIVILEGE|READ ANY FILE GROUP|UPDATE ANY CUBE|DROP ANY OPERATOR|CREATE ANY SYNONYM|ALTER ANY SEQUENCE|INSERT ANY TABLE|EXECUTE ANY RULE|DROP ANY CUBE DIMENSION|INSERT ANY MEASURE FOLDER|ALTER ANY ASSEMBLY|DROP ANY EVALUATION CONTEXT|SELECT ANY MINING MODEL|ALTER ANY MINING MODEL|DROP ANY ROLE|DROP ANY MATERIALIZED VIEW|CREATE ANY DIMENSION|CREATE ANY LIBRARY|MANAGE ANY QUEUE|DROP ANY SQL TRANSLATION PROFILE|CREATE ANY MATERIALIZED VIEW|DROP ANY DIMENSION|DROP ANY CONTEXT|LOCK ANY TABLE|COMMENT ANY TABLE|DROP ANY TYPE|CREATE ANY VIEW|MERGE ANY VIEW|DROP ANY INDEXTYPE|ALTER ANY SQL PROFILE|DROP ANY CUBE BUILD PROCESS|DELETE ANY CUBE DIMENSION|CREATE ANY CUBE BUILD PROCESS|ANALYZE ANY DICTIONARY|CREATE ANY DIRECTORY|ALTER ANY TABLE|DROP ANY SQL PROFILE|DROP ANY INDEX|INHERIT ANY PRIVILEGES|ENQUEUE ANY QUEUE|DROP ANY CLUSTER|DROP ANY EDITION|ALTER ANY SQL TRANSLATION PROFILE|SELECT ANY CUBE BUILD PROCESS|SELECT ANY DICTIONARY|FORCE ANY TRANSACTION|ALTER ANY EVALUATION CONTEXT|SELECT ANY CUBE DIMENSION|INSERT ANY CUBE DIMENSION|EXECUTE ANY LIBRARY|ALTER ANY OPERATOR|ALTER ANY MATERIALIZED VIEW|ALTER ANY CUBE DIMENSION|DELETE ANY TABLE|DROP ANY LIBRARY|CREATE ANY SEQUENCE|DROP ANY ASSEMBLY|UPDATE ANY CUBE DIMENSION|EXECUTE ANY OPERATOR|UPDATE ANY CUBE BUILD PROCESS|AUDIT ANY|DROP ANY TABLE|EXECUTE ANY CLASS|DROP ANY SEQUENCE|DROP ANY DIRECTORY|ALTER ANY EDITION|BACKUP ANY TABLE|CREATE ANY JOB|DROP ANY RULE|DELETE ANY MEASURE FOLDER|ALTER ANY DIMENSION|FLASHBACK ANY TABLE|CREATE ANY RULE SET|ALTER ANY RULE|execute any indextype|analyze any|read any table|create any type|dequeue any queue|create any evaluation context|drop any synonym|drop any rule set|administer any sql tuning set|grant any privilege|create any procedure|alter any trigger|debug any procedure|create any edition|execute any assembly|select any transaction|under any type|alter any outline|execute any evaluation context|create any trigger|alter any role|update any table|create any mining model|drop any outline|alter any index|drop any view|use any sql translation profile|create any sql translation profile|create any outline|create any cube|drop any measure folder|alter any indextype|comment any mining model|under any view|alter any rule set|create any table|drop any procedure|alter any cube|alter any procedure|drop any trigger|select any sequence|alter any measure folder|create any context|execute any rule set|under any table|create any operator|drop any mining model|manage any file group|create any cluster|select any table|create any sql profile|create any measure folder|create any index|alter any type|alter any cube build process|execute any procedure|alter any cluster|create any rule|execute any program|create any assembly|execute any type|drop any cube|redefine any table|select any measure folder|create any indextype|select any cube|create any cube dimension|alter any library|grant any role|create any credential|grant any object privilege|read any file group|update any cube|drop any operator|create any synonym|alter any sequence|insert any table|execute any rule|drop any cube dimension|insert any measure folder|alter any assembly|drop any evaluation context|select any mining model|alter any mining model|drop any role|drop any materialized view|create any dimension|create any library|manage any queue|drop any sql translation profile|create any materialized view|drop any dimension|drop any context|lock any table|comment any table|drop any type|create any view|merge any view|drop any indextype|alter any sql profile|drop any cube build process|delete any cube dimension|create any cube build process|analyze any dictionary|create any directory|alter any table|drop any sql profile|drop any index|inherit any privileges|enqueue any queue|drop any cluster|drop any edition|alter any sql translation profile|select any cube build process|select any dictionary|force any transaction|alter any evaluation context|select any cube dimension|insert any cube dimension|execute any library|alter any operator|alter any materialized view|alter any cube dimension|delete any table|drop any library|create any sequence|drop any assembly|update any cube dimension|execute any operator|update any cube build process|audit any|drop any table|execute any class|drop any sequence|drop any directory|alter any edition|backup any table|create any job|drop any rule|delete any measure folder|alter any dimension|flashback any table|create any rule set|alter any rule" if [ -f "$RepoFileDB" ]; then         echo "El Archivo $RepoFileDB no se encuentra."         exit 1 fi cmd=$(find $RepoFileDB -type f|xargs grep -E "$WordFinDB" $RepoFileDB|wc -l|tr -d ' ') if [[ $cmd = 0 ]]; then         echo "No existen palabras del lineamiento de seguridad, se puede continuar con el despliegue"         exit 0 else         for FileName in $(find $RepoFileDB -type f|xargs grep -E "$WordFinDB" $RepoFileDB|tr -d ' ')         do                 print $FileName         done                 echo "Existen palabras de los lineamientos, no se puede continuar con el despliegue"                 exit 1 fi 